<head>
    <link rel="stylesheet" href="style/style.css"/>
    <title>PoopScriptDocs - Main</title>
</head>
<body>
    <script>
        window.onload = () => {
            var els = document.getElementsByClassName("navElem");

            for(el of els) {
                addNavClick(el, el.getAttribute("data-goto"));
            }
        }

        function addNavClick(el, to) {
            el.addEventListener("click", (ev) => {
                window.history.pushState({}, to, '#' + to);

                document.getElementById(to).scrollIntoView({
                    "behavior": "smooth"
                });
            });
        }
    </script>

    <div class="nav" style="position: fixed; top: 0; left: 0;">
        <div class="navElem" data-goto="poops">PoopWeb documentation</div>
        <div class="navElem" data-goto="useps">Use PoopWeb</div>
        <div class="navElem" data-goto="conf">Configuration</div>
        <div class="navElem" data-goto="ref">Core Reference</div>
        <div class="navElem navElemIndent" data-goto="reffs">fs</div>
        <div class="navElem navElemIndent" data-goto="refmysql">mysql</div>
        <div class="navElem" data-goto="changelog">Change Log</div>
    </div>
    <div class="content" style="margin-left: 16vw;">
        <h1 id="poops">PoopWeb documentation</h1>
        <h3>PoopWeb is a simple web server with PoopScript support.</h3>
        Even though PoopScript might not look as straight-forward than other languages, it is still quite easy to learn.<br><br>
        Please note that this documentation is not intended to teach you about PoopScript itself! The tutorials section might include some PoopScript tutorials.

        <h2 id="useps">Use PoopWeb</h2>
        To use PoopWeb, you will ofcourse need to download a release from the GitHub repository first. After doing this, extract all the files into your desired directory. To start your PooWeb server just start
        the executable for your OS or do <code>node poopweb.js</code> in a command prompt if you cloned the repository and you are directly executing it from the source. Every install of PoopWeb has a included demo index.pw file
        
        <br><h2 id="conf">Configuration</h2>
        To configure PoopWeb, just edit the config.json file inside the <code>&lt;installation_folder&gt;/conf/</code> folder. Inside of this configuration file you can add more MySQL pools, change the port, the main directory, etc.

        <br><h2 id="ref">Core reference</h2>
        PoopWeb adds some special features that are not available in PoopScript.<br><br>
        <code style="font-size: 16px; font-weight: 800;" id="reffs">fs</code><br>
        fs is a library to access the files on the server.
        <ul>
            <li><code>fs->readFile [toStoreVariable (word)] [path (string)]</code>: Reads a file and stores its contents inside toStoreVariable</li>
            <li><code>fs->appendToFile [toAppendVariable (word)] [path (string)]</code>: Appends the contents of toAppendVariable to file</li>
            <li><code>fs->writeToFile [toWriteVariable (word)] [path (string)]</code>: Writes the contents of toWriteVariable to file</li>
            <li><code>fs->doesExist [flagVariable (word)] [path (string)]</code>: Sets flagVariable to yes or no, depending if path exists</li>
            <li><code>fs->mkdir [recursive (yes/no)] [path (string)]</code>: Creates the path, recursively if set to "yes"</li>
        </ul>
        <br>
        <code style="font-size: 16px; font-weight: 800;" id="refweb">web</code><br>
        web is a utility library for request/response related stuff.
        <ul>
            <li><code>web->status [status code (number 100-999)]</code>: Sets the HTTP status code</li>
            <li><code>web->sendAndFinish [content (string)]</code>: Stops the request and sends the content (might be broken)</li>
            <li><code>web->vardump</code>: Dumps all variables as JSON to page</li>
            <li><code>web->getHeader [header name (word)] [to store variable (word)]</code>: Stores the header content inside the given variable</li>
            <li><code>web->setHeader [header name (word)] [value (string/number/etc)]</code>: Sets a response header to the given value</li>
            <li><code>web->redirect [path (string)]</code>: Redirects to the given path</li>
        </ul>
        <br>
        <code style="font-size: 16px; font-weight: 800;" id="refmysql">mysql</code><br>
        mysql is a library that adds (My)SQL functionality.
        <ul>
            <li><code>mysql->selectConnection [word (connection name)]</code>: Selects a connection pool from the config.</li>
            <li><code>mysql->query [word (output var name)] [word (callback function name)] [string (query)] ...[any (prepared arguments)]</code>: Performs a SQL query on the selected connection pool.</li>
        </ul>
        <br><h2 id="changelog">Change Log</h2>
        Check the GitHub releases for changelogs.
    </div>
</body>